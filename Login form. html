<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern Registration Form</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    :root {
      --font-family: 'Roboto', sans-serif;
      --bg-color: #eef2f5;
      --text-color: #333;
      --container-bg: #ffffff;
      --accent-color: #007bff;
      --input-bg: #f8f9fa;
      --input-border: #dee2e6;
      --shadow-light: 0 10px 30px rgba(0, 0, 0, 0.08);
      --error-color: #dc3545;
      --success-bg: #d4edda;
      --success-text: #155724;
      --toggle-color: #333;
    }

    body.dark-mode {
      --bg-color: #1a1a2e;
      --text-color: #f1f1f1;
      --container-bg: #2c2c44;
      --accent-color: #4a90e2;
      --input-bg: #3c3c5c;
      --input-border: #555;
      --shadow-light: 0 10px 30px rgba(0, 0, 0, 0.4);
      --error-color: #ff6b6b;
      --success-bg: #234d20;
      --success-text: #a8e6cf;
      --toggle-color: #f1f1f1;
    }

    * { box-sizing: border-box; transition: background-color 0.3s, color 0.3s, border-color 0.3s, box-shadow 0.3s; }
    body { margin:0; font-family: var(--font-family); background: var(--bg-color); color: var(--text-color); display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px;}
    
    .form-container { background: var(--container-bg); padding:40px; width:100%; max-width:400px; border-radius:15px; box-shadow: var(--shadow-light); animation: fadeIn 0.5s ease-out;}
    @keyframes fadeIn { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
    
    h2 { text-align:center; margin-bottom:30px; font-weight:700; color: var(--accent-color);}
    .form-group { margin-bottom:25px; display:flex; flex-direction:column; }
    label { margin-bottom:8px; font-weight:400; font-size:0.95rem;}
    
    input { padding:12px 15px; border:1px solid var(--input-border); border-radius:8px; background: var(--input-bg); color: var(--text-color); outline:none; font-size:1rem; }
    input:focus { border-color: var(--accent-color); box-shadow:0 0 0 3px rgba(0,123,255,0.2);}
    
    .error { font-size:0.8rem; color: var(--error-color); margin-top:5px; height:16px;}
    
    .submit-btn { width:100%; padding:12px; background: var(--accent-color); color: var(--container-bg); border:none; border-radius:8px; cursor:pointer; font-size:1.1rem; margin-top:15px; font-weight:700; box-shadow:0 4px 10px rgba(0,123,255,0.3); transition:0.3s ease, transform 0.1s;}
    .submit-btn:hover { background:#0056b3; box-shadow:0 6px 15px rgba(0,123,255,0.4);}
    .submit-btn:active { transform: translateY(1px);}
    
    .success { margin-top:20px; padding:15px; background: var(--success-bg); color: var(--success-text); border-radius:8px; font-size:1rem; text-align:center; font-weight:700; display:none; animation: popIn 0.4s ease-out;}
    @keyframes popIn { from { transform: scale(0.9); opacity: 0;} to { transform: scale(1); opacity:1;}}
    
    #toggleThemeBtn { position:fixed; top:20px; right:20px; width:40px; height:40px; background: var(--container-bg); color: var(--toggle-color); border:1px solid var(--input-border); border-radius:50%; cursor:pointer; font-size:1.2rem; display:flex; justify-content:center; align-items:center; z-index:1000; box-shadow:0 2px 8px rgba(0,0,0,0.1); transition:0.3s ease;}
    #toggleThemeBtn:hover { background: var(--accent-color); color:#fff; border-color: var(--accent-color); transform:rotate(15deg);}
    
    .password-group .password-wrapper { display:flex; align-items:center; position:relative; }
    .password-wrapper input { padding-right:55px; }
    .toggle-password { position:absolute; right:1px; height:95%; padding:0 10px; border:none; background:transparent; color: var(--accent-color); border-radius:0 8px 8px 0; cursor:pointer; font-size:0.85rem; font-weight:bold; transition:0.15s ease;}
    .toggle-password:hover { color:#0056b3;}
    
    @media (max-width:450px) { .form-container { width:90%; padding:25px 20px; } }
  </style>
</head>
<body>

<button id="toggleThemeBtn" aria-label="Toggle Light/Dark Theme"><i class="fas fa-moon"></i></button>

<div class="form-container">
  <h2>Create Account</h2>
  <form id="registrationForm" novalidate>
    <div class="form-group">
      <label for="fullName">Full Name:</label>
      <input type="text" id="fullName" name="fullName" placeholder="e.g., John Doe">
      <span class="error" id="nameError"></span>
    </div>

    <div class="form-group">
      <label for="email">Email Address:</label>
      <input type="email" id="email" name="email" placeholder="john.doe@example.com">
      <span class="error" id="emailError"></span>
    </div>

    <div class="form-group password-group">
      <label for="password">Password:</label>
      <div class="password-wrapper">
        <input type="password" id="password" name="password" placeholder="Min. 8 chars, 1 Uppercase, 1 Number">
        <button type="button" id="togglePassword" class="toggle-password">Show</button>
      </div>
      <span class="error" id="passwordError"></span>
    </div>

    <button type="submit" class="submit-btn">Register</button>
  </form>

  <div id="successMessage" class="success"></div>
</div>

<script>
  const body = document.body;
  const fullNameInput = document.getElementById("fullName");
  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");
  const nameError = document.getElementById("nameError");
  const emailError = document.getElementById("emailError");
  const passwordError = document.getElementById("passwordError");
  const form = document.getElementById("registrationForm");
  const successMessage = document.getElementById("successMessage");
  const toggleThemeBtn = document.getElementById("toggleThemeBtn");
  const toggleThemeIcon = toggleThemeBtn.querySelector("i");
  const togglePasswordBtn = document.getElementById("togglePassword");

  // Theme toggle
  function updateThemeIcon(isDark) {
    toggleThemeIcon.classList.toggle('fa-sun', isDark);
    toggleThemeIcon.classList.toggle('fa-moon', !isDark);
  }
  const storedDark = localStorage.getItem('darkMode') === 'true';
  if (storedDark) body.classList.add("dark-mode");
  updateThemeIcon(storedDark);
  toggleThemeBtn.addEventListener("click", () => {
    const isDark = body.classList.toggle("dark-mode");
    localStorage.setItem('darkMode', isDark);
    updateThemeIcon(isDark);
  });

  // Validation
  function validateForm() {
    let isValid = true;
    if (!fullNameInput.value.trim()) { nameError.textContent="Full name is required."; isValid=false; } else nameError.textContent="";
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailInput.value.trim()) { emailError.textContent="Email is required."; isValid=false; } 
    else if (!emailRegex.test(emailInput.value.trim())) { emailError.textContent="Enter a valid email."; isValid=false; } else emailError.textContent="";
    const pwd = passwordInput.value.trim();
    const hasUpper = /[A-Z]/.test(pwd), hasNum = /[0-9]/.test(pwd);
    if (!pwd) { passwordError.textContent="Password is required."; isValid=false; } 
    else if (pwd.length<8) { passwordError.textContent="Password must be at least 8 chars."; isValid=false; } 
    else if (!hasUpper || !hasNum) { passwordError.textContent="Password must contain 1 uppercase & 1 number."; isValid=false; } else passwordError.textContent="";
    return isValid;
  }
  [fullNameInput,emailInput,passwordInput].forEach(inp=>inp.addEventListener("input",validateForm));

  // Form submit
  form.addEventListener("submit", e=>{
    e.preventDefault();
    if(validateForm()){
      const userName = fullNameInput.value.trim().split(' ')[0];
      successMessage.innerHTML = `ðŸŽ‰ <strong>Congratulations ${userName}!</strong> You've successfully created your account.`;
      form.style.display="none";
      successMessage.style.display="block";
    }
  });

  // Password toggle
  togglePasswordBtn.addEventListener("click", ()=>{
    const isPwd = passwordInput.type==="password";
    passwordInput.type = isPwd?"text":"password";
    togglePasswordBtn.textContent = isPwd?"Hide":"Show";
  });
</script>

</body>
</html>
